/* Blog cards grid for landing page */
.blog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); /* 3–4 per row depending on width */
  gap: 1rem;
  align-items: stretch; /* ensure children stretch to equal row height */
  margin-top: 1rem;
  grid-auto-rows: 1fr; /* equal row heights */
}

.blog-card {
  border: 1px solid var(--sl-color-gray-5);
  border-radius: 10px;
  padding: 0;                         /* move padding to anchor to make whole card clickable */
  display: flex;
  flex-direction: column;
  gap: .5rem;
  background: var(--sl-color-bg);
  transition: border-color .15s ease, transform .15s ease;
  box-sizing: border-box;            /* prevent size drift */
  min-height: 220px;                 /* consistent height floor */
  height: 100%;                      /* equal height inside grid */
  contain: layout paint;             /* fix occasional first-card misalign */
  overflow: hidden;                  /* avoid margin-collapse visual jumps */
  position: relative;
  cursor: pointer;
}

/* Light mode: make the card’s base text color black so children inherit correctly */
html[data-theme='light'] .blog-card,
:root[data-theme='light'] .blog-card { color: #000; }

.blog-card:hover {
  border-color: var(--sl-color-accent);
  transform: translateY(-2px);
}

.blog-card h4 {
  margin: 0;
  font-size: 1rem;
  line-height: 1.3;
  color: inherit; /* inherit from container to honor theme mode */
  display: -webkit-box;
  line-clamp: 2;                    /* standard prop for supporting engines */
  -webkit-line-clamp: 2;            /* clamp long titles to 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: calc(1.3em * 2);      /* reserve space for two lines */
}

/* Light mode: stronger black for titles (cover different theme attribute hosts) */
html[data-theme='light'] .blog-grid .blog-card h4,
html[data-theme='light'] .blog-grid .blog-card .blog-card-link h4,
html[data-theme='light'] .posts-grid .post-card h3,
:root[data-theme='light'] .blog-grid .blog-card h4,
:root[data-theme='light'] .blog-grid .blog-card .blog-card-link h4 {
  color: #000 !important;
}
/* Dark mode: ensure white titles */
html[data-theme='dark'] .blog-grid .blog-card h4,
html[data-theme='dark'] .blog-grid .blog-card .blog-card-link h4,
:root[data-theme='dark'] .blog-grid .blog-card h4,
:root[data-theme='dark'] .blog-grid .blog-card .blog-card-link h4 {
  color: #fff !important;
}
/* Ensure the full-card anchor inherits a dark text color in light mode */
html[data-theme='light'] .blog-card .blog-card-link,
:root[data-theme='light'] .blog-card .blog-card-link { color: var(--sl-color-text, #000) !important; }
/* Ensure h4 does not override inherited color accidentally */
.blog-card .blog-card-link h4 { color: inherit; }

/* Do not force anchor color; let children set their own for proper theming */

.blog-card-link { display: flex; flex-direction: column; height: 100%; width: 100%; text-decoration: none; color: inherit; padding: 1rem; }
.blog-card-link:hover { text-decoration: none; }

/* Nudge the first card down slightly to compensate for layout rounding issues */
.blog-grid > .blog-card:first-child { margin-top: 8px; }

.blog-card p {
  color: var(--sl-color-gray-2);
  margin: .5rem 0 0;                /* give some air under titles */
  line-height: 1.4;
  flex: 1 1 auto; /* take remaining space to push meta to bottom */
  min-height: 2.8em;                /* roughly two lines for balance */
}

.blog-meta {
  margin-top: auto;                 /* push meta row to bottom */
  padding-top: .75rem;
  border-top: 1px solid var(--sl-color-gray-5);
  display: flex;
  gap: .5rem;
  align-items: center;              /* consistent baseline across cards */
  color: var(--sl-color-gray-3);
  font-size: .85rem;
}

.blog-meta .date { color: var(--sl-color-gray-3); }
.blog-meta .author { color: var(--sl-color-text); font-weight: 600; }
